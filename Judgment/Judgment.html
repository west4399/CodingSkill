<!DOCTYPE html>
<html>
<head>
<title>あたり判定アルゴリズム</title>
</head>
<body>
<script>
function setup(){

//自機データ
  var ship = [];
  ship_data = window.prompt("自機データを入力してください", "100 100 70 100");
    ship = ship_data.split(' ');

//敵数入力
  var enemy = [];
  var enemyCount = 0
  enemyCount = window.prompt("敵の数を入力してください","3");
  enemy = new Array(enemyCount);

//敵数分値の入力
  for(var i = 0; i < enemyCount; i++){
    var enemys_data = [];
    enemys_data = window.prompt("敵"+ (i+1)+"データを入力してください","");
    enemy[i] = enemys_data.split(' ');
  }

  //自機データ
    var ship = {
      x : ship[0],
      y : ship[1],
      width : ship[2],
      height : ship[3]
    };

  //敵データ
    for (var i = 0; i < enemyCount; i++) {
        var enemy_data = {
        x : enemy[i][0],
        y : enemy[i][1],
        width : enemy[i][2],
        height : enemy[i][3]
      };

  //敵あたり判定
      if(
        Math.abs(enemy_data.x - ship.x) < enemy_data.width/2 + ship.width/2 //横の判定
        &&
        Math.abs(enemy_data.y - ship.y) < enemy_data.height/2 + ship.height/2 //縦の判定
      ){
        //結果をhtmlページに表示
        document.getElementById('enemy_hitlog').insertAdjacentHTML('beforeend', '<p>敵機' + (i + 1) + 'が当たり</p>');
      }
    };

}


</script>
<body onload="setup();">
<p id="enemy_hitlog">
</p>
</body>
</html>
